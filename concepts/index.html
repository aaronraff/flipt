<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content="A stand alone feature flag solution"><link rel="canonical" href="https://github.com/markphelps/flipt/concepts/"><meta name="author" content="Mark Phelps"><meta name="lang:clipboard.copy" content="Copy to clipboard"><meta name="lang:clipboard.copied" content="Copied to clipboard"><meta name="lang:search.language" content="en"><meta name="lang:search.pipeline.stopwords" content="True"><meta name="lang:search.pipeline.trimmer" content="True"><meta name="lang:search.result.none" content="No matching documents"><meta name="lang:search.result.one" content="1 matching document"><meta name="lang:search.result.other" content="# matching documents"><meta name="lang:search.tokenizer" content="[\s\-]+"><link rel="shortcut icon" href="../assets/images/favicon.ico"><meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.3.1"><title>Concepts - Flipt Documentation</title><link rel="stylesheet" href="../assets/stylesheets/application.4031d38b.css"><link rel="stylesheet" href="../assets/stylesheets/application-palette.224b79ff.css"><meta name="theme-color" content="#7e57c2"><script src="../assets/javascripts/modernizr.74668098.js"></script><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=swap"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel="stylesheet" href="../assets/fonts/material-icons.css"><script>window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-44979762-6", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })</script><script async src="https://www.google-analytics.com/analytics.js"></script></head><body dir="ltr" data-md-color-primary="deep-purple" data-md-color-accent=""><svg class="md-svg"><defs></defs></svg> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" data-md-component="overlay" for="__drawer"></label><a href="#concepts" tabindex="1" class="md-skip">Skip to content </a><header class="md-header" data-md-component="header"><nav class="md-header-nav md-grid"><div class="md-flex"><div class="md-flex__cell md-flex__cell--shrink"><a href="https://github.com/markphelps/flipt/" title="Flipt Documentation" class="md-header-nav__button md-logo"><img src="../assets/images/logo.svg" width="24" height="24"></a></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label></div><div class="md-flex__cell md-flex__cell--stretch"><div class="md-flex__ellipsis md-header-nav__title" data-md-component="title"><span class="md-header-nav__topic">Flipt Documentation</span><span class="md-header-nav__topic">Concepts</span></div></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--search md-header-nav__button" for="__search"></label><div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active"> <label class="md-icon md-search__icon" for="__search"></label> <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button></form><div class="md-search__output"><div class="md-search__scrollwrap" data-md-scrollfix><div class="md-search-result" data-md-component="result"><div class="md-search-result__meta">Type to start searching</div><ol class="md-search-result__list"></ol></div></div></div></div></div></div></div></nav></header><div class="md-container"><main class="md-main"><div class="md-main__inner md-grid" data-md-component="container"><div class="md-sidebar md-sidebar--primary" data-md-component="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary" data-md-level="0"><label class="md-nav__title md-nav__title--site" for="__drawer"><a href="https://github.com/markphelps/flipt/" title="Flipt Documentation" class="md-nav__button md-logo"><img src="../assets/images/logo.svg" width="48" height="48"></a>Flipt Documentation</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href=".." title="Flipt" class="md-nav__link">Flipt</a></li><li class="md-nav__item"><a href="../architecture/" title="Architecture" class="md-nav__link">Architecture</a></li><li class="md-nav__item md-nav__item--active"><input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc"><label class="md-nav__link md-nav__link--active" for="__toc">Concepts</label><a href="./" title="Concepts" class="md-nav__link md-nav__link--active">Concepts</a><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#flags" title="Flags" class="md-nav__link">Flags</a></li><li class="md-nav__item"><a href="#variants" title="Variants" class="md-nav__link">Variants</a></li><li class="md-nav__item"><a href="#segments" title="Segments" class="md-nav__link">Segments</a></li><li class="md-nav__item"><a href="#constraints" title="Constraints" class="md-nav__link">Constraints</a></li><li class="md-nav__item"><a href="#rules" title="Rules" class="md-nav__link">Rules</a></li><li class="md-nav__item"><a href="#distributions" title="Distributions" class="md-nav__link">Distributions</a></li><li class="md-nav__item"><a href="#evaluation" title="Evaluation" class="md-nav__link">Evaluation</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#entities" title="Entities" class="md-nav__link">Entities</a></li><li class="md-nav__item"><a href="#context" title="Context" class="md-nav__link">Context</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item"><a href="../configuration/" title="Configuration" class="md-nav__link">Configuration</a></li><li class="md-nav__item"><a href="../development/" title="Development" class="md-nav__link">Development</a></li><li class="md-nav__item"><a href="../getting_started/" title="Getting Started" class="md-nav__link">Getting Started</a></li><li class="md-nav__item"><a href="../installation/" title="Installation" class="md-nav__link">Installation</a></li><li class="md-nav__item"><a href="../integration/" title="Integration" class="md-nav__link">Integration</a></li><li class="md-nav__item"><a href="../licensing/" title="Licensing" class="md-nav__link">Licensing</a></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#flags" title="Flags" class="md-nav__link">Flags</a></li><li class="md-nav__item"><a href="#variants" title="Variants" class="md-nav__link">Variants</a></li><li class="md-nav__item"><a href="#segments" title="Segments" class="md-nav__link">Segments</a></li><li class="md-nav__item"><a href="#constraints" title="Constraints" class="md-nav__link">Constraints</a></li><li class="md-nav__item"><a href="#rules" title="Rules" class="md-nav__link">Rules</a></li><li class="md-nav__item"><a href="#distributions" title="Distributions" class="md-nav__link">Distributions</a></li><li class="md-nav__item"><a href="#evaluation" title="Evaluation" class="md-nav__link">Evaluation</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#entities" title="Entities" class="md-nav__link">Entities</a></li><li class="md-nav__item"><a href="#context" title="Context" class="md-nav__link">Context</a></li></ul></nav></li></ul></nav></div></div></div><div class="md-content"><article class="md-content__inner md-typeset"><h1 id="concepts">Concepts</h1>
<p>This document describes the basic concepts of Flipt. More information on how to use Flipt is noted in the <a href="../getting_started/">Getting Started</a> documentation.</p>
<h2 id="flags">Flags</h2>
<p>Flags are the basic unit in the Flipt ecosystem. Flags represent experiments or features that you want to be able to enable or disable for users of your applications.</p>
<p>For example, a flag named <code>new-contact-page</code>, could be used to determine whether or not a given user sees the latest version of a contact us page that you are working on when they visit your homepage.</p>
<p>Flags can be used as simple on/off toggles or with variants and rules to support more elaborate usecases.</p>
<p><img alt="Flags Example" src="../assets/images/concepts/00_flags.png?raw=true" title="Flags Example" /></p>
<h2 id="variants">Variants</h2>
<p>Variants are options for flags. For example, if you have a flag <code>colorscheme</code> that determines which main colors your users see when they log in to your application, then possible variants could be include <code>blue</code>, <code>green</code> or <code>red</code>.</p>
<p><img alt="Variants Example" src="../assets/images/concepts/01_variants.png?raw=true" title="Variant Example" /></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Variant keys must be unique for a given flag.</p>
</div>
<h2 id="segments">Segments</h2>
<p>Segments allow you to split your userbase or audience up into predefined slices. This is a powerful feature that enables targeting groups to determine if a flag or variant applies to them.</p>
<p>An example segment could be <code>new-users</code>.</p>
<p><img alt="New Users Segment" src="../assets/images/concepts/02_segments.png" /></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Segments are global across the Flipt application so they can be used with multiple flags.</p>
</div>
<h2 id="constraints">Constraints</h2>
<p>Constraints allow you to determine which segment a given entity is a part of.</p>
<p>For example, for a user to fall into the above <code>new-users</code> segment, you may want to check their <code>finished_onboarding</code> property.</p>
<p><img alt="Constraints Example" src="../assets/images/concepts/03_constraints.png?raw=true" title="Constraints Example" /></p>
<p>All constraints have a <em>property</em>, <em>type</em>, <em>operator</em> and optionally a <em>value</em>.</p>
<dl>
<dt><strong>property</strong></dt>
<dd>the context key to match against, see the context section below</dd>
<dt><strong>type</strong></dt>
<dd>one of the basic types: string, number or boolean</dd>
<dt><strong>operator</strong></dt>
<dd>how to compare the property against the value</dd>
<dt><strong>value</strong> (optional)</dt>
<dd>what to compare with the operator<dd>
</dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In order for a segment to match, it must match <strong>ALL</strong> of it's constraints.</p>
</div>
<h2 id="rules">Rules</h2>
<p>Rules allow you to tie your flags, variants and segments together by specifying which segments are targeted by which variants.</p>
<p>Rules can be as simple as <code>IF IN segment THEN RETURN variant_a</code> or they can be more rich by using distribution logic to rollout features on a percent basis.</p>
<p>Continuing our previous example, we may want to return the flag variant <code>blue</code> for all entities in the <code>new-users</code> segment. This would be configured like so:</p>
<p><img alt="Rules Example" src="../assets/images/concepts/04_rules.png?raw=true" title="Rules Example" /></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As shown, rules are evaluated in order per their rank from 1-N. The first rule that matches wins. Once created, rules can be re-ordered to change how they are evaluated.</p>
</div>
<h2 id="distributions">Distributions</h2>
<p>Distributions allow you to rollout different variants of your flag to percentages of your userbase based on your rules.</p>
<p>Let's say that instead of always showing the <code>blue</code> variant to your <code>new-users</code> segment, you want to show blue to 30% of <code>new-users</code>, <code>red</code> to 10%, and <code>green</code> to the remaining 60%. You would accomplish this using rules with distributions:</p>
<p><img alt="Distributions Example" src="../assets/images/concepts/05_distributions.png?raw=true" title="Distributions Example" /></p>
<p>This is an extremely powerful feature of Flipt that can help you seamlessly deploy new features of your applications to your users while also limiting reach of potential bugs.</p>
<h2 id="evaluation">Evaluation</h2>
<p>Evaluation is the process of sending requests to the Flipt server to process and determine if that request matches any of your segments, and if so which variant to return.</p>
<p>In the above example involving colors, evaluation is where you send information about your current user to determine if they are a <code>new-user</code>, and which color (<code>blue</code>, <code>red</code>, or <code>green</code>) that they should see for their main colorscheme.</p>
<h3 id="entities">Entities</h3>
<p>Evaluation works by uniquely identifying each <em>thing</em> that you want to compare against your segments and flags. We call this an <code>entity</code> in the Flipt ecosystem. More often than not this will be a user, but we didn't want to make any assumptions on how your application works, which is why <code>entity</code> was chosen.</p>
<dl>
<dt><strong>entity</strong></dt>
<dd>what you want to test against in your application</dd>
</dl>

<p>For Flipt to successfully determine which <em>bucket</em> your entities fall into, it must have a way to uniquely identify them. This is the <code>entityId</code> and it is a simple string. It's up to you what that <code>entityId</code> is.</p>
<p>It could be a:</p>
<ul>
<li>email address</li>
<li>userID</li>
<li>ip address</li>
<li>physical address</li>
<li>etc</li>
</ul>
<p>Anything that is unique enough for your application and it's requirements.</p>
<h3 id="context">Context</h3>
<p>The final piece of the puzzle is context. Context allows Flipt to determine which segment your entity falls into by comparing it to all of the possible constraints that you defined.</p>
<dl>
<dt><strong>context</strong></dt>
<dd>metadata associated with your entity, used to determine which if any segments that entity is a member of</dd>
</dl>

<p>Examples of context could include:</p>
<ul>
<li>isAdmin</li>
<li>favoriteColor</li>
<li>country</li>
<li>freeUser</li>
</ul>
<p>Think of these as pieces of information that are usually not unique, but that can be used to split your entities into your segments.</p>
<p>You can include as much or as little context for each entity as you want, however the more context that you provide, the more likely it is that a entity will match one of your segments.</p>
<p>In Flipt, <code>context</code> is a simple map of key-value pairs where the key is the property to match against all constraints, and the value is what is compared.</p></article></div></div></main><footer class="md-footer"><div class="md-footer-nav"><nav class="md-footer-nav__inner md-grid"><a href="../architecture/" title="Architecture" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev"><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-back md-footer-nav__button"></i></div><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Previous</span>Architecture</span></div></a><a href="../configuration/" title="Configuration" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next"><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Next</span>Configuration</span></div><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i></div></a></nav></div><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-footer-copyright">powered by <a href="https://www.mkdocs.org">MkDocs</a> and <a href="https://squidfunk.github.io/mkdocs-material/">Material for MkDocs</a></div><div class="md-footer-social"><link rel="stylesheet" href="../assets/fonts/font-awesome.css"> <a href="https://github.com/markphelps/flipt" class="md-footer-social__link fa fa-github"></a> </div></div></div></footer></div><script src="../assets/javascripts/application.b260a35d.js"></script><script>app.initialize({version:"1.0.4",url:{base:".."}})</script></body></html>